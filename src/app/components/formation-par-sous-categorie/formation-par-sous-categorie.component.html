<!-- formations-par-sous-categorie.component.html -->
<div class="sidenav-container">
    <app-sidebar></app-sidebar>
  
    <div class="formations-wrapper" *ngIf="!isLoading; else loading">
      <div *ngIf="formations.length > 0; else noResults" class="formations-grid">
        <mat-card
          class="formation-card"
          *ngFor="let formation of formations"
          appearance="outlined"
        >
          <mat-card-header>
            <mat-card-title class="title">
              {{ formation.nomFormation }}
            </mat-card-title>
            <mat-card-subtitle>
              Niveau : {{ formation.niveau }}
            </mat-card-subtitle>
          </mat-card-header>
  
          <img
            mat-card-image
            *ngIf="formation.image"
            [src]="formation.image"
            [alt]="'Image de ' + formation.nomFormation"
          />
  
          <mat-card-content>
            <p class="description">{{ formation.description }}</p>
            <p><strong>Durée :</strong> {{ formation.duree }} mois</p>
          </mat-card-content>
  
          <mat-card-actions align="end">
            <button
              mat-raised-button
              color="primary"
              [routerLink]="['/detail-formation', formation.id]"
            >
              Voir plus
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  
    <ng-template #loading>
      <div class="loading-container">
        <mat-progress-spinner color="accent" mode="indeterminate"></mat-progress-spinner>
      </div>
    </ng-template>
  
    <ng-template #noResults>
      <div class="no-results">
        <p>Aucune formation disponible pour cette sous-catégorie.</p>
      </div>
    </ng-template>
  </div>
  